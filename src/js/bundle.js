(()=>{"use strict";let e=setTimeout(n,5e3);const t=document.querySelector(".modal");function n(){t.classList.add("show"),t.classList.remove("hide"),document.body.style.overflow="hidden",clearInterval(e)}function o(){t.classList.add("hide"),t.classList.remove("show"),document.body.style.overflow=""}window.addEventListener("DOMContentLoaded",(()=>{(function(e,t,n,o,a){const c=document.querySelector(e),l=document.querySelector(t),r=l.querySelectorAll(n),s=l.querySelectorAll(o),i=l.querySelectorAll(a);let d,u,m,g,h;function _(){c.textContent=d&&u&&m&&g&&h?"female"===d?((447.6+9.2*m+3.1*u-4.3*g)*h).toFixed():((88.36+13.4*m+4.8*u-5.7*g)*h).toFixed():"----"}localStorage.getItem("gender")?d=localStorage.getItem("gender"):(d="female",localStorage.setItem("gender","female")),localStorage.getItem("physical")?h=localStorage.getItem("physical"):(h=1.375,localStorage.setItem("physical",1.375)),localStorage.getItem("gender")&&r.forEach((e=>{e.classList.remove("calculating__choose-item_active"),e.getAttribute("id")===localStorage.getItem("gender")&&e.classList.add("calculating__choose-item_active")})),localStorage.getItem("physical")&&i.forEach((e=>{e.classList.remove("calculating__choose-item_active"),e.getAttribute("data-ratio")===localStorage.getItem("physical")&&e.classList.add("calculating__choose-item_active")})),_(),r.forEach((e=>{e.addEventListener("click",(e=>{r.forEach((e=>e.classList.remove("calculating__choose-item_active"))),e.target.classList.add("calculating__choose-item_active"),d=e.target.getAttribute("id"),localStorage.setItem("gender",e.target.getAttribute("id")),_()}))})),i.forEach((e=>{e.addEventListener("click",(e=>{i.forEach((e=>e.classList.remove("calculating__choose-item_active"))),e.target.classList.add("calculating__choose-item_active"),h=e.target.getAttribute("data-ratio"),localStorage.setItem("physical",+e.target.getAttribute("data-ratio")),_()}))})),s.forEach((e=>{"height"===e.id?e.addEventListener("input",(t=>{e.value.match(/\D/g)?e.style.border="1px solid red":e.style.border="none",u=+e.value,_()})):"weight"===e.id?e.addEventListener("input",(t=>{e.value.match(/\D/g)?e.style.border="1px solid red":e.style.border="none",m=+e.value,_()})):"age"===e.id&&e.addEventListener("input",(t=>{e.value.match(/\D/g)?e.style.border="1px solid red":e.style.border="none",g=+e.value,_()}))}))})(".calculating__result span",".calculating__field","#gender div",".calculating__choose_medium input",".calculating__choose_big div"),function(e,t){const n=document.querySelector(e).querySelector(t);class o{constructor(e,t,n,o){this.itemImage=e,this.itemTitle=t,this.itemDesc=n,this.itemPrice=o}appendCard(){const e=document.createElement("div");e.classList.add("menu__item");const t=document.createElement("div");t.classList.add("menu__item-divider");const o=document.createElement("img"),a=document.createElement("h3"),c=document.createElement("div"),l=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div");a.classList.add("menu__item-subtitle"),c.classList.add("menu__item-descr"),l.classList.add("menu__item-price"),r.classList.add("menu__item-cost"),s.classList.add("menu__item-total"),r.textContent="Цена:",s.innerHTML=`<span>${this.itemPrice}</span> грн/день `,l.append(r),l.append(s),o.setAttribute("src",this.itemImage),a.textContent=this.itemTitle,c.textContent=this.itemDesc,e.append(o),e.append(a),e.append(c),e.append(t),e.append(l),n.append(e)}}(async e=>{const t=await fetch(e);if(!t.ok)throw new Error(`Error ocurred.\n${e} could not fetch data.\n Status: ${t.status}`);return await t.json()})("http://localhost:3000/menu").then((e=>{e.forEach((e=>{let{img:t,title:n,descr:a,price:c}=e;new o(t,n,a,c).appendCard()}))}))}(".menu__field",".container"),function(e){const t=document.querySelectorAll(e),a={loading:"img/form/spinner.svg",success:"Спасибо! Скоро мы с вами свяжемся...",failure:"Что-то пошло не так"};t.forEach((e=>{!function(e){e.addEventListener("submit",(t=>{t.preventDefault();let n=document.createElement("img");n.src=a.loading,n.style.cssText="\n            display: block;\n            margin: 0 auto;\n            ",e.append(n);const o=new FormData(e),r=JSON.stringify(Object.fromEntries(o.entries()));c("http://localhost:3000/requests",r).then((e=>{console.log(e),l(a.success),a.remove()})).catch((()=>{l(a.failure)})).finally((()=>{e.reset()}))}))}(e)}));const c=async(e,t)=>{const n=await fetch(e,{method:"POST",headers:{"Content-type":"application/json"},body:t});return await n.json()};function l(e){const t=document.querySelector(".modal__dialog");t.classList.add("hide"),n();const a=document.createElement("div");a.classList.add("modal__dialog"),a.innerHTML=`\n            <div class="modal__content">\n                    <div class="modal__close" data-close>×</div>\n                    <div class="modal__title">${e}</div>\n            </div>\n        `,document.querySelector(".modal").append(a),setTimeout((()=>{a.remove(),t.classList.add("show"),t.classList.remove("hide"),o()}),4e3)}}("form"),document.addEventListener("click",(e=>{"BUTTON"===e.target.tagName&&e.target.hasAttribute("data-modal")&&n(),e.target.classList.contains("modal__close")&&e.target.hasAttribute("data-close")&&o()})),t.addEventListener("click",(e=>{e.target!==t&&""!=e.target.getAttribute("data-close")||o()})),document.addEventListener("keydown",(e=>{"none"!=t.style.display&&"Escape"===e.key&&o()})),window.addEventListener("scroll",(function e(){window.pageYOffset+document.documentElement.clientHeight>=document.documentElement.scrollHeight-1&&(n(),window.removeEventListener("scroll",e))})),function(e){let{slidesElements:t,nextArrow:n,prevArrow:o,totalSpan:a,currentSpan:c,fieldSlides:l,wrapperSlides:r}=e;const s=document.querySelectorAll(t),i=document.querySelector(n),d=document.querySelector(o),u=document.querySelector(a),m=document.querySelector(c),g=document.querySelector(l),h=document.querySelector(r),_=window.getComputedStyle(h).width;let p=1,f=0;g.style.width=100*s.length+"%",g.style.display="flex",g.style.transition="0.5s all ease 0s",h.style.overflow="hidden",s.length<10?u.textContent=`0${s.length}`:u.textContent=s.length,s.forEach((e=>{e.style.width=_})),i.addEventListener("click",(()=>{f===+_.replace(/\D/g,"")*(s.length-1)?f=0:f+=+_.replace(/\D/g,""),p===s.length?p=1:p++,s.length<10?m.textContent=`0${p}`:m.textContent=p,g.style.transform=`translateX(-${f}px)`})),d.addEventListener("click",(()=>{0===f?f=+_.replace(/\D/g,"")*(s.length-1):f-=+_.replace(/\D/g,""),1===p?p=s.length:p--,s.length<10?m.textContent=`0${p}`:m.textContent=p,g.style.transform=`translateX(-${f}px)`}))}({slidesElements:".offer__slide",nextArrow:".offer__slider-next",prevArrow:".offer__slider-prev",totalSpan:"#total",currentSpan:"#current",fieldSlides:".offer__slider-inner",wrapperSlides:".offer__slider-wrapper"}),function(){const e=document.querySelector(".offer__slider"),t=document.querySelectorAll(".offer__slide"),n=document.createElement("div");document.querySelector("#total");let o=document.querySelector("#current");const a=document.querySelector(".offer__slider-wrapper");let c=window.getComputedStyle(a).width;const l=document.querySelector(".offer__slider-inner");let r=0;n.classList.add("carousel-indicators"),e.style.position="relative",e.append(n),t.forEach(((e,t)=>{let o=document.createElement("div");o.classList.add("dot"),n.append(o)}));const s=document.querySelectorAll(".dot");s.forEach(((e,n)=>{e.addEventListener("click",(()=>{s.forEach(((e,t)=>{e.style.opacity=".5"})),e.style.opacity=1,r=+c.replace(/\D/g,"")*n,l.style.transform=`translateX(-${r}px)`,t.length<10?o.textContent=`0${n+1}`:o.textContent=n+1}))}))}(),function(e,t,n){const o=document.querySelectorAll(e),a=document.querySelectorAll(t),c=document.querySelector(n);function l(){a.forEach((e=>{e.style.display="none"})),o.forEach((e=>{e.classList.remove("tabheader__item_active")}))}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;a[e].style.display="block",o[e].classList.add("tabheader__item_active")}l(),r(),c.addEventListener("click",(e=>{e.target.classList.contains("tabheader__item")&&o.forEach(((t,n)=>{t===e.target&&(l(),r(n))}))}))}(".tabheader__item",".tabcontent",".tabheader__items"),function(e,t){const n=document.querySelector(".timer"),o=n.querySelector("#days"),a=n.querySelector("#hours"),c=n.querySelector("#minutes"),l=n.querySelector("#seconds"),r=setInterval(i,1e3);function s(e){return e>=0&&e<10?`0${e}`:e}function i(){const e=function(e){let t,n,o,a;const c=Date.parse(e)-Date.parse(new Date);return c<=0?(t=0,n=0,o=0,a=0):(t=Math.floor(c/864e5),n=Math.floor(c/36e5%24),o=Math.floor(c/1e3/60%60),a=Math.floor(c/1e3%60)),{total:c,days:t,hours:n,minutes:o,seconds:a}}(t);o.textContent=s(e.days),a.textContent=s(e.hours),c.textContent=s(e.minutes),l.textContent=s(e.seconds),e.total<=0&&clearInterval(r)}i()}(0,"2023-07-01:12:00:00")}))})();
//# sourceMappingURL=bundle.js.map